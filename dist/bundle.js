(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var o=0;o<n.length;o++){var r=n[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,"string");if("object"!==t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===t(i)?i:String(i)),r)}var i}var n=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nombre=e,this._precio=n,this._cantidad=o}var n,o;return n=t,(o=[{key:"nombre",get:function(){return this._nombre},set:function(t){this._nombre=t}},{key:"precio",get:function(){return this._precio},set:function(t){this._precio=t}},{key:"cantidad",get:function(){return this._cantidad},set:function(t){this._cantidad=t}}])&&e(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),t}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===o(i)?i:String(i)),r)}var i}var i,c=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nombre=e,this._telefono=n,this._email=o,this._articulos=[]}var e,o;return e=t,(o=[{key:"nombre",get:function(){return this._nombre},set:function(t){this._nombre=t}},{key:"telefono",get:function(){return this._telefono},set:function(t){this._telefono=t}},{key:"email",get:function(){return this._email},set:function(t){this._email=t}},{key:"articulos",get:function(){return this._articulos},set:function(t){t instanceof n?this._articulos.push(t):t instanceof Array&&(this.articulos=this._articulos.concat(t))}},{key:"getInfoProveedor",value:function(){return"Nombre: ".concat(this.nombre,", Telefono: ").concat(this.telefono,", Email: ").concat(this.email)}}])&&r(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),a=document.getElementById("btnEmpresa"),u=document.getElementById("guardarEmpresa"),l=document.getElementById("formularioEmpresa"),m=document.getElementById("formularioArticulos"),s=document.getElementById("btnArticulos"),f=document.getElementById("guardarArticulo"),d=document.getElementById("empresa"),y=document.getElementById("productosProveedor"),b=[],p=new bootstrap.Modal(document.getElementById("modalEmpresa")),v=new bootstrap.Modal(document.getElementById("modalArticulos"));function h(t){y.innerHTML="",t.articulos.forEach((function(t,e){y.innerHTML+="<tr>\n        <td>".concat(e,"</td>\n        <td>").concat(t.nombre,"</td>\n        <td>").concat(t.cantidad,"</td>\n        <td>").concat(t.precio,"</td>\n        </tr>")}))}function g(){var t=document.getElementById("datosProveedor");t.innerHTML="",b.forEach((function(e){t.innerHTML+='\n      <p class="col-10">'.concat(e.getInfoProveedor(),"</p> ").concat(e.articulos.length>0?'<button class="btn btn-primary col-2 totalImp" value="'.concat(e.nombre,'">\n              Mostrar Total Impuestos\n            </button>'):"","\n    ")})),document.querySelectorAll(".totalImp").forEach((function(t){t.addEventListener("click",(function(){var e=t.value,n=b.find((function(t){return t.nombre===e})),o=0,r=0;n.articulos.forEach((function(t){r=t.cantidad,o+=r*t.precio})),o*=.19,alert("El proveedor "+n.nombre+" tiene un total de impuestos de: "+o)}))}))}a.addEventListener("click",(function(){p.show()})),s.addEventListener("click",(function(){b.length>0?(d.innerHTML="",b.forEach((function(t){d.innerHTML+='<option value="'.concat(t.nombre,'">').concat(t.nombre,"</option>")})),v.show()):alert("primero debe guardar una empresa")})),u.addEventListener("click",(function(){var t=document.getElementById("nombre").value,e=document.getElementById("telefono").value,n=document.getElementById("email").value;i=new c(t,e,n),b.push(i),l.reset(),p.hide(),console.log("empresa guardada"),console.log(b),g()})),f.addEventListener("click",(function(){var t=document.getElementById("nombreArticulo").value,e=document.getElementById("cantidad").value;e=parseInt(e);var o=document.getElementById("precio").value;o=parseInt(o);var r=b.find((function(t){return t.nombre===d.value})),c=new n(t,o,e);r.articulos=c,m.reset(),h(i),g()})),d.addEventListener("change",(function(){h(b.find((function(t){return t.nombre===d.value})))}))})();